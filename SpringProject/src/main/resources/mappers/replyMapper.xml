<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.mapper.ReplyMapper">

	<select id="list" resultType="ReplyVO">
		select
			*
		from
			tbl_reply
		where
			bno=#{bno}
		order by
			rno desc
	</select>
	
	<select id="create">
		insert into
			tbl_reply(bno, replytext, replyer)
		values
			(#{bno}, #{replytext}, #{replyer})
	</select>
	
	<select id="update">
		update 
			tbl_reply 
		set 
			replytext=#{replytext}, updatedate=now()
		where 
			rno=#{rno}
	</select>
	
	<select id="delete">
		delete from 
			tbl_reply 
		where 
			rno=#{rno}
	</select>
	
	<select id="listPage">
		select 
			*
		from
			tbl_reply
		where
			bno=#{bno}
		order by 
			rno desc
		limit 
			#{criteria.page}, #{criteria.perPageNum}
	</select>
	
	<select id="countPaging">
		select
			count(bno)
		from
			tbl_board
		where
			bno=#{bno}
	</select>
	
	
	
	

</mapper>